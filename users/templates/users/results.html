{% extends 'base.html' %}
{% block banner_text %}
<h1>Tests attempted by {{ user }} </h1>
{% endblock %}


{% block body %}
<div id="gtco-services">
    <div class="gtco-container">
        <div class="animate-box">
            <div class="col-md-offset-2 text-center gtco-heading">
                <h1>Tests that you have attempted</h1>
            </div>
        </div>
        {% if self_answer_groups %}
        <table class="table table-striped text-center table-bordered">
            <thead class="thead-light">
                <tr>
                    <td><strong>S. No </strong></td>
                    <td><strong>Time </strong></td>
                    <td><strong>Day </strong></td>
                    <td><strong>Year </strong></td>
                    <td><strong>Test ID </strong></tf>
                    <td><strong>Link </strong></tf>
                </tr>
            </thead>
            <tbody>
                {% for answer_group in self_answer_groups %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ answer_group.answer_date_and_time | date:"H:i" }}</td>
                    <td>{{ answer_group.answer_date_and_time | date:"l, d F" }}</td>
                    <td>{{ answer_group.answer_date_and_time | date:"Y" }}</td>
                    <td>{{ answer_group.id }}</td>
                    <td>
                        <a href="{% url 'graphs:single_result' answer_group.pk %}"><span class="icon"><i
                                    class="icon-eye"></i></span></a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}<div class="animate-box">
            <div class="col-md-offset-2 text-center gtco-heading">
                You don't have any test results, would you like to take a test?
                <a class="btn btn-success btn-block" href="{% url 'interactions:howto' %}">Attempt survey </a>
            </div>
        </div>
        {% endif %}

    </div>
</div>


<div id="gtco-services">
    <div class="gtco-container">
        <div class="animate-box">
            <div class="col-md-offset-2 text-center gtco-heading">
                <h1>Tests that you have attempted for your relations </h1>
            </div>
        </div>
        {% if relation_answer_groups %}
        <table class="table table-striped text-center table-bordered">
            <thead class="thead-light">
                <tr>
                    <td><strong>Test ID </strong></td>
                    <td><strong>Time </strong></td>
                    <td><strong>Day </strong></td>
                    <td><strong>Year </strong></td>
                    <td><strong>Attempted for</strong></td>
                    <td><strong>Link </strong></td>
                </tr>
            </thead>
            <tbody>
                {% for relation_answer_group in relation_answer_groups %}
                <tr>
                    <td>{{ relation_answer_group.pk }}</td>
                    <td>{{ relation_answer_group.answer_date_and_time | date:"H:i" }}</td>
                    <td>{{ relation_answer_group.answer_date_and_time | date:"l, d F" }}</td>
                    <td>{{ relation_answer_group.answer_date_and_time | date:"Y" }}</td>
                    <td>
                        {{ relation_answer_group.relation_user_profile }}
                    </td>
                    <td>
                        <a href="{% url 'graphs:single_result' pk=relation_answer_group.pk %}"><span class="icon"><i class="icon-eye"></i></span></a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <div class="animate-box">
            <div class="col-md-offset-2 text-center gtco-heading">
                You haven't attempted any tests on behalf of your relations, would you like to take one?
                <a class="btn btn-success btn-block" href="{% url 'interactions:howto-relations' %}">Attempt
                    survey </a>
            </div>
        </div>
        {% endif %}
    </div>
</div>

<div id="gtco-services">
    <div class="gtco-container">
        <div class="animate-box">
            <div class="col-md-offset-2 text-center gtco-heading">
                <h1>Tests that others have attempted to guess your personality</h1>
            </div>
        </div>
        {% if others_answer_groups %}
        <table class="table table-striped text-center table-bordered">
            <thead class="thead-light">
                <tr>
                    <td><strong>Test ID </strong></td>
                    <td><strong>Time </strong></td>
                    <td><strong>Day </strong></td>
                    <td><strong>Year </strong></td>
                    <td><strong>Attempted by</strong></td>
                    <td><strong>Link </strong></td>
                </tr>
            </thead>
            <tbody>
                {% for others_answer_group in others_answer_groups %}
                <tr>
                    <td>{{ others_answer_group.pk }}</td>
                    <td>{{ others_answer_group.answer_date_and_time | date:"H:i" }}</td>
                    <td>{{ others_answer_group.answer_date_and_time | date:"l, d F" }}</td>
                    <td>{{ others_answer_group.answer_date_and_time | date:"Y" }}</td>
                    <td>
                        {{ others_answer_group.self_user_profile }}
                    </td>
                    <td>
                        <a href="{% url 'graphs:single_result' pk=others_answer_group.pk %}"><span class="icon"><i class="icon-eye"></i></span></a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <div class="animate-box">
            <div class="col-md-offset-2 text-center gtco-heading">
                Looks like no one has attempted a test on your behalf. Why don't you give them a Test ID from above and ask them to guess your personality?
            </div>
        </div>
        {% endif %}
    </div>
</div>

<div id="gtco-services">
    <div class="gtco-container">
        <div class="animate-box">
            <div class="col-md-offset-2 text-center gtco-heading">
                <a href="{% url 'graphs:multiple_results' %}" class="btn btn-info btn-block">Click here to
                    compare
                    your personality with your
                    friends</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}